/*! Bilibili-Bangumi-API v1.0.0 | Hans362 (https://hans362.cn) | https://bilibili-bangumi-api.vercel.app | MIT License */"use strict";var bangumiJson=(apiUrl||"https://bilibili-bangumi-js.vercel.app/api")+"?vmid="+userId+"&token="+(new Date).getTime()+Math.random();$.getJSON(bangumiJson,function(e){$.each(e.data.list,function(e,s){var i=0;s.is_finish?i=s.total_count:s.is_started&&"即将开播"!=s.new_ep.index_show?(i=s.new_ep.title,$.isNumeric(i)||(i=s.total_count)):i=0,i<0&&(i=0);var t=0;s.is_started?0<=s.progress.indexOf("已看完")?t=i:void 0!==s.progress&&-1==s.progress.indexOf("PV")?(t=s.progress.substring(s.progress.indexOf("第")+1,s.progress.indexOf("话")),$.isNumeric(t)||(t=i)):t=0:t=0;var n=t/i*100,a=s.cover.replace("http","https");$("#bgm-collection").append('\n        <a class="bgm-item" href="'+s.url+'" target="_blank">\n            <img class="bgm-item-thumb" src="'+a+'" referrerpolicy="no-referrer"></img>\n            <div class="bgm-item-info">\n                <span class="bgm-item-title main">'+s.title+'</span>\n                <span class="bgm-item-title">'+s.evaluate+'</span>\n                <div class="bgm-item-statusBar-container">\n                    <div class="bgm-item-statusBar" style="width:'+n+'%"></div>\n                    <span class="bgm-item-percentage">进度：'+t+" / "+i+"</span>\n                </div>\n            </div>\n        </a>\n        ")})});