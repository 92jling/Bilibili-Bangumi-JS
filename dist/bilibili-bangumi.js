/*! Bilibili-Bangumi-JS v1.0.1 | Hans362 (https://hans362.cn) | https://bilibili-bangumi-js.vercel.app | MIT License */"use strict";var bangumiJson=(apiUrl||"https://bilibili-bangumi-js.vercel.app/api")+"?vmid="+userId+"&token="+(new Date).getTime()+Math.random();$.getJSON(bangumiJson,function(e){$("#bgm-collection").empty(),$.each(e.data.list,function(e,s){var t=0;s.is_finish?t=s.total_count:s.is_started&&"即将开播"!=s.new_ep.index_show?(t=s.new_ep.title,$.isNumeric(t)||(t=s.total_count)):t=0,t<0&&(t=0);var i=0;s.is_started?0<=s.progress.indexOf("已看完")?i=t:void 0!==s.progress&&-1==s.progress.indexOf("PV")?(i=s.progress.substring(s.progress.indexOf("第")+1,s.progress.indexOf("话")),$.isNumeric(i)||(i=t)):i=0:i=0;var n=i/t*100,a=s.cover.replace("http","https");$("#bgm-collection").append('\n        <a class="bgm-item" href="'+s.url+'" target="_blank">\n            <img class="bgm-item-thumb" src="'+a+'" referrerpolicy="no-referrer"></img>\n            <div class="bgm-item-info">\n                <span class="bgm-item-title main">'+s.title+'</span>\n                <span class="bgm-item-title">'+s.evaluate+'</span>\n                <div class="bgm-item-statusBar-container">\n                    <div class="bgm-item-statusBar" style="width:'+n+'%"></div>\n                    <span class="bgm-item-percentage">进度：'+i+" / "+t+"</span>\n                </div>\n            </div>\n        </a>\n        ")})});